---
description: ⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️
---

# 谈谈WeakTypeTag\[T]和TypeTag\[T]区别？（反射和宏）

1. `TypeTag`封装了类型的运行时表示，有三种，TypeTag（完整的信息），ClassTag（部分的信息），WeakTypeTag（抽象类型信息）
2. 如果需要一个`WeakTypeTag[T]`类型的隐式值，编译器便将创建一个。并且可以通过tpe字段访问T的反射表示。T的组成部分可以是对类型参数或抽象类型的引用。
3. 但是，`WeakTypeTag`只是尽可能的成为（变成）具体的（这意味使用WeakTypeTag可能会取不到里面的字段的信息，得到一个null），如果TypeTag对被引用的类型参数或抽象类型是可用的，它们也将被用来嵌入到WeakTypeTag中。否则，WeakTypeTag将包含一个对抽象类型的引用。当你期望T也许是部分抽象的时候，这种行为可能是有用的，但需要特别注意这种情况。如果你已经预期到T是完全已知的，应该使用TypeTag代替，它可以静态地保证类型参数和抽象类型在此时是具体的。

知道1及格，答完满分。全不知道则默认从未使用过宏，功力不及格。
